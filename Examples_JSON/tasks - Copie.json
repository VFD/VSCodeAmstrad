{
    // See https://go.microsoft.com/fwlink/?LinkId=733558
    // for the documentation about the tasks.json format
    "version": "2.0.0",
    "tasks": [
        {
            // Windows Process for DSK
            "label": "ManageDsk",
            "command": "${env:CPC_ManageDsk_Folder}${/}ManageDsk.exe",
            "args": [
                "-C",
                "-S${fileDirname}${/}dsk${/}${fileBasenameNoExtension}.dsk",
                "-L${fileDirname}${/}dsk${/}${fileBasenameNoExtension}.dsk",
                "-A*.bas",
                "-S${fileDirname}${/}dsk${/}${fileBasenameNoExtension}.dsk"
            ],
            "problemMatcher": []
        },
        {
            // *nix process for DSK (1)
            "label": "Make Nix DSK",
            "type": "process",
            "command": "idsk",
            "args": [
                "${fileDirname}${/}dsk${/}${fileBasenameNoExtension}.dsk",
                "-n"
            ],
            "problemMatcher": []
        },
        {
            // *nix process for DSK (2)
            "label": "iDISK insert files",
            "command": "${env:CPC_iDisk_Folder}${/}idsk",
            "args": [
                "${fileDirname}${/}dsk${/}${fileBasenameNoExtension}.dsk",
                "-t",
                "0",
                "-i",
                "${fileBasename}",
                "-f"
            ],
            "problemMatcher": []
        },
        {
            // Start CMD
            "label": "Cap32",
            "command": "cap32.cmd",
            "args": [
                "${fileDirname}${/}dsk${/}${fileBasenameNoExtension}.dsk",
                "-a",
                "run\"${fileBasename}"
            ],
            "problemMatcher": []
        },
        {
            // Start Caprice 32
            "label": "Caprice32",
            "command": "${env:CPC_Caprice32_Folder}${/}cap32",
            "args": [
                "${fileDirname}${/}dsk${/}${fileBasenameNoExtension}.dsk",
                "-a",
                "run\"${fileBasename}"
            ],
            "problemMatcher": []
        },
        {
            // Build and test on Windows (default)
            // change "isDefault" to true if your on a Windows machine
            "label": "BuildWindows",
            "dependsOn": ["Cap32"],
            "problemMatcher": [],
            "group": {
                "kind": "build",
                "isDefault": true
            }
        },
        {
            // Build and test on *nix
            // change "isDefault" to true if your on a *nix machine
            "label": "BuildNIX",
            "dependsOn": [
                "Make Nix DSK",
                "iDISK insert files",
                "Start Caprice32"
            ],
            "problemMatcher": [],
            "group": {
                "kind": "build",
                "isDefault": false
            }
        }
    ]
}
